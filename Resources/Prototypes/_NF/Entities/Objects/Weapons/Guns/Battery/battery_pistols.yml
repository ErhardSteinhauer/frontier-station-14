#region base
- type: entity
  id: NFBaseWeaponEnergyPistol
  parent: BaseWeaponBatterySmall
  suffix: Frontier
  abstract: true
  components:
  - type: Gun
    minAngle: 4.5
    maxAngle: 9
    angleIncrease: 0.25
    angleDecay: 1
    fireRate: 2.5
    selectedMode: SemiAuto
    availableModes:
    - SemiAuto
    soundGunshot:
      path: /Audio/Weapons/Guns/Gunshots/laser.ogg
  - type: HitscanBatteryAmmoProvider
    proto: NFRedLightLaser
    fireCost: 60
  - type: Battery # 16 shots
    maxCharge: 960
    startingCharge: 960
  - type: BatterySelfRecharger # TODO: calc self recharge rate so it would be 6-10 times slower than using a recharger
    autoRecharge: true
    autoRechargeRate: 3 # 1 shot per 20 seconds

# WizDen
#region Laser
- type: entity
  id: NFWeaponEnergyPistolLaserSvalinn
  parent: [ BaseC1Contraband, WeaponLaserSvalinn ]
  name: svalinn
  suffix: Frontier
  description: |-
    Manufacturer: NanoTrasen Munitions
    Type: Energy Pistol
    Ammo: Low Power Laser Beam
    Desc.: A cheap and widely used laser pistol.
    ---

- type: entity
  id: NFWeaponEnergyPistolLaserMakeshift
  parent: [ BaseC1Contraband, NFBaseWeaponEnergyPistol, WeaponMakeshiftLaser ]
  name: makeshift laser pistol
  description: |-
    Manufacturer: Frontier Gunsmith Consortium
    Type: Energy Pistol
    Ammo: Low Power Laser Beam
    Desc.: Better pray it won't burn your hands off. At least it's legal.
    ---
  components:
  - type: Sprite
    sprite: Objects/Weapons/Guns/Battery/makeshift.rsi
  - type: Clothing
    sprite: Objects/Weapons/Guns/Battery/makeshift.rsi
  - type: Battery # 14 shots
    maxCharge: 840
    startingCharge: 840
  - type: BatterySelfRecharger # doesn't recharge
    autoRecharge: false
    autoRechargeRate: 0

- type: entity
  id: NFWeaponEnergyPistolLaserAntique
  parent: [ BaseC1Contraband, NFBaseWeaponEnergyPistol, WeaponAntiqueLaser ]
  name: antique laser pistol
  suffix: Frontier
  description: |-
    Manufacturer: NanoTrasen Munitions
    Type: Energy Pistol
    Ammo: Low Power Laser Beam
    Desc.: This is an antique laser pistol. All craftsmanship is of the highest quality. It is decorated with a mahogany grip and chrome filigree. The object menaces with spikes of energy. On the item is an image of a captain and a clown. The clown is dead. The captain is striking a heroic pose.
    ---
  components:
  - type: Sprite
    sprite: Objects/Weapons/Guns/Battery/antiquelasergun.rsi
  - type: Clothing
    sprite: Objects/Weapons/Guns/Battery/antiquelasergun.rsi
  - type: Battery # 26 shots
    maxCharge: 1560
    startingCharge: 1560
  - type: BatterySelfRecharger # Recharges 1 shot per 2 seconds
    autoRecharge: true
    autoRechargeRate: 30

- type: entity
  id: NFWeaponEnergyPistolLaserAdvanced
  parent: [ BaseC1Contraband, NFBaseWeaponEnergyPistol, WeaponAdvancedLaser ]
  name: advanced laser pistol
  suffix: Frontier
  description: |-
    Manufacturer: NanoTrasen Munitions
    Type: Energy Pistol
    Ammo: Low Power Laser Beam
    Desc.: An experimental civilian grade high-energy laser pistol with a self-charging nuclear battery.
    ---
  components:
  - type: Sprite
    sprite: Objects/Weapons/Guns/Battery/advancedlasergun.rsi
  - type: Clothing
    sprite: Objects/Weapons/Guns/Battery/advancedlasergun.rsi
  - type: Battery # 26 shots
    maxCharge: 1560
    startingCharge: 1560

# Frontier
- type: entity
  id: WeaponLaserPistolNF # TODO: migrate to WeaponEnergyPistolNF
  parent: [ BaseC1Contraband, NFBaseWeaponEnergyPistol ]
  name: laser pistol
  description: |-
    Manufacturer: NanoTrasen Munitions
    Type: Energy Pistol
    Ammo: Low Power Laser Beam
    Desc.: An older model of civilian-grade laser pistol.
    ---
  components:
  - type: Sprite
    sprite: _NF/Objects/Weapons/Guns/Battery/laser_pistol.rsi
    layers:
    - state: base
      map: ["enum.GunVisualLayers.Base"]
    - state: mag-unshaded-4
      map: ["enum.GunVisualLayers.MagUnshaded"]
      shader: unshaded
  - type: Item
    size: Small
    inhandVisuals:
      left:
      - state: inhand-left
      - state: inhand-left-unshaded
        shader: unshaded
      right:
      - state: inhand-right
      - state: inhand-right-unshaded
        shader: unshaded

#region Pulse
- type: entity
  id: NFWeaponEnergyPistolPulse
  parent: [ BaseC2ContrabandUnredeemable, NFBaseWeaponEnergyPistol, WeaponPulsePistol ]
  name: pulse pistol
  description: |-
    Manufacturer: NanoTrasen Munitions
    Type: Energy Pistol
    Ammo: Pulse Beam
    Desc.: A state of the art energy pistol favoured as a sidearm by the NT operatives. On the handle is a label that says 'for authorized use only.'
    ---
  components:
  - type: Sprite
    sprite: Objects/Weapons/Guns/Battery/pulse_pistol.rsi
  - type: Clothing
    sprite: Objects/Weapons/Guns/Battery/pulse_pistol.rsi
  - type: HitscanBatteryAmmoProvider
    proto: NFPulse
    fireCost: 60
  - type: Battery # 20 shots
    maxCharge: 1200
    startingCharge: 1200

#region Diasblers
- type: entity
  id: NFWeaponEnergyPistolDisabler
  parent: [ BaseC1Contraband, NFBaseWeaponEnergyPistol, WeaponDisabler ]
  name: disabler pistol
  suffix: Frontier
  description: |-
    Manufacturer: NanoTrasen Munitions
    Type: Energy Pistol
    Ammo: Energy Bolt
    Desc.: A civilian grade self-defense weapon that exhausts organic targets, weakening them until they collapse.
    ---
  components:
  - type: Sprite
    sprite: Objects/Weapons/Guns/Battery/disabler.rsi
  - type: Clothing
    sprite: Objects/Weapons/Guns/Battery/disabler.rsi
  - type: ProjectileBatteryAmmoProvider
    proto: NFBulletDisabler
    fireCost: 60
  - type: Battery # 20 shots
    maxCharge: 1200
    startingCharge: 1200

#region Other
- type: entity
  id: NFWeaponEnergyPistolCHIMPUpgraded
  parent: [ BaseC3SyndicateContraband, NFBaseWeaponEnergyPistol, WeaponPistolCHIMPUpgraded ]
  name: experimental C.H.I.M.P. handcannon
  suffix: Frontier
  description: |-
    Manufacturer: NanoTrasen Munitions
    Type: Energy Pistol
    Ammo: Energy Bolt
    Desc.: This C.H.I.M.P. seems to have a greater punch than is usual...
    ---
  components:
  - type: Sprite
    sprite: Objects/Weapons/Guns/Revolvers/chimp.rsi
  - type: Clothing
    sprite: Objects/Weapons/Guns/Revolvers/chimp.rsi
  - type: ProjectileBatteryAmmoProvider
    proto: AnomalousParticleDeltaStrong
    fireCost: 60
  - type: Battery # 20 shots
    maxCharge: 1200
    startingCharge: 1200
  - type: BatteryWeaponFireModes
    fireModes:
    - proto: AnomalousParticleDeltaStrong
      fireCost: 100
    - proto: AnomalousParticleEpsilonStrong
      fireCost: 100
    - proto: AnomalousParticleOmegaStrong
      fireCost: 100
    - proto: AnomalousParticleZetaStrong
      fireCost: 100
    - proto: AnomalousParticleSigmaStrong
      fireCost: 100

# Frontier
- type: entity
  id: NFWeaponHoloflareGun
  parent: [ BaseC1Contraband, NFBaseWeaponEnergyPistol ]
  name: holoflare pistol
  description: |-
    Manufacturer: NanoTrasen Munitions
    Type: Tool
    Ammo: Energy Bolt
    Desc.: A modification of a civilian-grade laser pistol that can project holoflares onto surfaces.
    ---
  components:
  - type: Sprite
    sprite: _NF/Objects/Weapons/Guns/Battery/holoflare_pistol.rsi
    layers:
    - state: base
      map: ["enum.GunVisualLayers.Base"]
    - state: mag-unshaded-2
      map: ["enum.GunVisualLayers.MagUnshaded"]
      shader: unshaded
    - state: mode-cyan
      shader: unshaded
      map: [ "Firemode" ]
  - type: Item
    size: Small
    inhandVisuals:
      left:
      - state: inhand-left
      - state: inhand-left-unshaded
        shader: unshaded
      right:
      - state: inhand-right
      - state: inhand-right-unshaded
        shader: unshaded
  - type: Gun
    selectedMode: SemiAuto
    fireRate: 2
    availableModes:
      - SemiAuto
    soundGunshot:
      path: /Audio/Weapons/Guns/Gunshots/flaregun.ogg
    projectileSpeed: 15
  - type: Battery
    maxCharge: 720
    startingCharge: 720
  - type: BatterySelfRecharger
    autoRecharge: true
    autoRechargeRate: 10
  - type: ProjectileBatteryAmmoProvider
    proto: HoloFlareCyan
    fireCost: 240
  - type: EnergyGun
    fireModes:
    - proto: HoloFlareCyan
      fireCost: 240
      name: cyan
      state: cyan
    - proto: HoloFlareRed
      fireCost: 240
      name: red
      state: red
    - proto: HoloFlareYellow
      fireCost: 240
      name: yellow
      state: yellow
  - type: MagazineVisuals
    magState: mag
    steps: 3
    zeroVisible: true
  - type: Appearance
  - type: GenericVisualizer
    visuals:
      enum.EnergyGunFireModeVisuals.State:
        Firemode:
          Cyan: { state: mode-cyan }
          Red: { state: mode-red }
          Yellow: { state: mode-yellow }
  - type: StaticPrice
    price: 250
