#region Base
# this whore thing is cursed: each scroll when unfolded is a single shot gun.
- type: entity
  id: SpellScrollRolled
  name: spell scroll
  parent: BaseItem
  description: Rolled piece of paper emanating eldritch energies.
  abstract: true
  suffix: Folded
  components:
  - type: Item
    size: Small
    shape:
    - 0,0,1,0
  - type: Sprite
    sprite: _NF/Objects/Specific/Wizard/scrolls.rsi
    layers:
    - state: scroll-rolled
    - state: scroll-seal-rolled
      color: "red"
      shader: unshaded
  - type: SpawnItemsOnUse
    items:
    - id: SpellScrollBase
    sound:
      path: /Audio/Effects/unwrap.ogg

- type: entity
  id: SpellScrollBase
  parent: BaseItem
  name: spell scroll
  description: A piece of paper with arcane inscriptions on it.
  abstract: true
  components:
  - type: Item
    size: Small
    shape:
    - 0,0,1,1
  - type: Sprite
    sprite: _NF/Objects/Specific/Wizard/runes.rsi
    layers:
    - sprite: _NF/Objects/Specific/Wizard/scrolls.rsi
      state: base
      map: ["enum.GunVisualLayers.Base"]
    - sprite: _NF/Objects/Specific/Wizard/scrolls.rsi
      state: scroll-0
      map: ["enum.GunVisualLayers.Mag"]
    - state: rune-outer-01
      color: "red"
      scale: 0.32, 0.32
      offset: 0.01,-0.005
      shader: unshaded
      map: [ "rune_outer" ]
    - state: rune-inner-01
      color: "red"
      scale: 0.32, 0.32
      offset: 0.01,-0.005
      shader: unshaded
      map: [ "rune_inner" ]
    - state: rune-center-01
      color: "red"
      scale: 0.32, 0.32
      offset: 0.01,-0.005
      shader: unshaded
      map: [ "rune_center" ]
    - state: rune-words-01
      color: "red"
      scale: 0.32, 0.32
      offset: 0.01,-0.005
      shader: unshaded
      map: [ "rune_words" ]
    - sprite: _NF/Objects/Specific/Wizard/scrolls.rsi
      state: scroll-seal-unrolled
      color: "red"
      shader: unshaded
  - type: RandomSprite
    available:
      - rune_outer:
          rune-outer-01: WizardMagicColorsBlue # Alt palettes: BloodCultMagicColors
        rune_inner:
          rune-inner-01: WizardMagicColorsBlue
          rune-inner-02: WizardMagicColorsBlue
          rune-inner-03: WizardMagicColorsBlue
          rune-inner-04: WizardMagicColorsBlue
          rune-inner-05: WizardMagicColorsBlue
          rune-inner-06: WizardMagicColorsBlue
          rune-inner-07: WizardMagicColorsBlue
        rune_center:
          rune-center-01: WizardMagicColorsBlue
          rune-center-02: WizardMagicColorsBlue
          rune-center-03: WizardMagicColorsBlue
          rune-center-04: WizardMagicColorsBlue
          rune-center-05: WizardMagicColorsBlue
          rune-center-06: WizardMagicColorsBlue
          rune-center-07: WizardMagicColorsBlue
        rune_words:
          rune-words-01: WizardMagicColorsBlue
          rune-words-02: WizardMagicColorsBlue
          rune-words-03: WizardMagicColorsBlue
          rune-words-04: WizardMagicColorsBlue
          rune-words-05: WizardMagicColorsBlue
          rune-words-06: WizardMagicColorsBlue
          rune-words-07: WizardMagicColorsBlue
  - type: MagazineVisuals
    magState: scroll
    steps: 1
    zeroVisible: true
  - type: Tag
    tags:
    - Sidearm
  - type: AmmoCounter
  - type: Gun
    fireRate: 1
    soundGunshot:
      path: /Audio/Effects/teleport_arrival.ogg
  - type: BasicEntityAmmoProvider
    proto: WaterElementalConjuredStaff
    capacity: 1
    count: 1
  - type: StaticPrice
    price: 500

# Variants
#region Offencive
- type: entity
  id: SpellScrollRolledElementalWater
  parent: SpellScrollRolled
  name: conjure water elemental spell scroll
  components:
  - type: Sprite
    sprite: _NF/Objects/Specific/Wizard/scrolls.rsi
    layers:
    - state: scroll-rolled
    - state: scroll-seal-rolled
      color: "blue"
      shader: unshaded
  - type: SpawnItemsOnUse
    items:
    - id: SpellScrollElementalWater
    sound:
      path: /Audio/Effects/unwrap.ogg

- type: entity
  id: SpellScrollElementalWater
  parent: SpellScrollBase
  name: conjure water elemental spell scroll
  components:
  - type: Sprite
    sprite: _NF/Objects/Specific/Wizard/scrolls.rsi
    layers:
    - state: scroll-text
    - sprite: _NF/Objects/Specific/Wizard/runes.rsi
      state: rune-outer-01
      color: "cyan"
      scale: 0.32, 0.32
      offset: 0.01,-0.005
      shader: unshaded
      map: [ "rune_outer" ]
    - sprite: _NF/Objects/Specific/Wizard/runes.rsi
      state: rune-inner-02
      color: "cyan"
      scale: 0.32, 0.32
      offset: 0.01,-0.005
      shader: unshaded
      map: [ "rune_inner" ]
    - sprite: _NF/Objects/Specific/Wizard/runes.rsi
      state: rune-center-02
      color: "cyan"
      scale: 0.32, 0.32
      offset: 0.01,-0.005
      shader: unshaded
      map: [ "rune_center" ]
    - sprite: _NF/Objects/Specific/Wizard/runes.rsi
      state: rune-words-02
      color: "cyan"
      scale: 0.32, 0.32
      offset: 0.01,-0.005
      shader: unshaded
      map: [ "rune_words" ]
    - state: scroll-seal-unrolled
      color: "blue"
      shader: unshaded
  - type: BasicEntityAmmoProvider
    proto: WaterElementalConjuredStaff
    capacity: 1
    count: 1

#region Utility

#region Memes
