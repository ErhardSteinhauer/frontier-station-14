#region base
- type: entity
  abstract: true
  id: NFDestructibleItems
  components:
  - type: Damageable
    damageContainer: Inorganic
    damageModifierSet: Metallic
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 50
      behaviors:
        - !type:DoActsBehavior
          acts: [ "Destruction" ]
    - trigger:
        !type:DamageTrigger
        damage: 25
      behaviors:
      - !type:DoActsBehavior
        acts: ["Destruction"]
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak

#region Teapot
- type: entity
  id: DrinkTeapotEndless
  parent: [ DrinkTeapot, BaseC3WizardContraband ]
  name: the teapot of infinite tea
  description: An elegant teapot that quickly replenishes tea inside.
  components:
  - type: Sprite
    sprite: Objects/Consumable/Drinks/teapot.rsi # placeholder
  - type: SolutionContainerManager
    solutions:
      drink:
        maxVol: 100
        reagents:
        - ReagentId: Tea
          Quantity: 100
  - type: SolutionRegeneration
    solution: drink
    generated:
      reagents:
      - ReagentId: Tea
        Quantity: 5
  - type: SolutionPurge
    solution: drink
    preserve:
    - Tea
    quantity: 10

#region The Shaker
- type: entity
  id: DrinkShakerShaking
  parent: [ DrinkShaker, BaseC3WizardContraband ]
  name: The Shaker
  components:
  - type: Sprite
    sprite: Objects/Consumable/Drinks/shaker.rsi # placeholder
    state: icon
  - type: Item
    sprite: Objects/Consumable/Drinks/shaker.rsi # placeholder
  - type: Jittering
  - type: Damageable
    damageContainer: Inorganic
    damageModifierSet: Metallic
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 50
      behaviors:
        - !type:DoActsBehavior
          acts: [ "Destruction" ]
    - trigger:
        !type:DamageTrigger
        damage: 25
      behaviors:
      - !type:DoActsBehavior
        acts: ["Destruction"]
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak
  - type: SpamEmitSound
    minInterval: 0
    maxInterval: 5
    sound:
      collection: MaleScreams
      params:
        variation: 0.125

#region Sandals
- type: entity
  id: ClothingShoesWizardMagboots
  parent: [ ClothingShoesBaseButcherable, BaseC3WizardContraband ]
  name: sandals with planewalker socks
  description: A pair of magic shoes.
  components:
  - type: Sprite
    sprite: Clothing/Shoes/Specific/wizard.rsi # placeholder
  - type: Clothing
    sprite: Clothing/Shoes/Specific/wizard.rsi # placeholder
  - type: ToggleClothing
    action: ActionToggleMagboots
    mustEquip: true
  - type: ComponentToggler
    components:
    - type: NoSlip
    - type: MovementIgnoreGravity
    - type: ProtectedFromStepTriggers
    - type: CanMoveInAir
  - type: Magboots
  - type: ClothingSpeedModifier
    walkModifier: 1.0
    sprintModifier: 1.0

#region Inf. canister
- type: entity
  parent: [ GasCanister, BaseC3WizardContraband ]
  id: WizardGasCanisterBottomless
  name: bottomless canister
  description: A canister that can hold more gas that it's size would suggest. Lovingly crafted for commercial use by the "Bottomless" brand.
  components:
    - type: Sprite
      sprite: _NF/Structures/Storage/canister.rsi # placeholder
      layers:
        - state: storage
    - type: GasCanister
      gasMixture:
        volume: 300000 # 1500[base canister volume] * 20
        moles: # List of gasses for easy reference
          - 0 # oxygen
          - 0 # nitrogen
          - 0 # CO2
          - 0 # Plasma
          - 0 # Tritium
          - 0 # Water vapor
          - 0 # Ammonia
          - 0 # N2O
          - 0 # Frezon
        temperature: 293.15
    - type: Destructible
      thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 600
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
      - trigger:
          !type:DamageTrigger
          damage: 300
        behaviors:
        - !type:PlaySoundBehavior
          sound:
            collection: MetalBreak
        - !type:SpawnEntitiesBehavior
          spawn:
            StorageCanisterBroken:
              min: 1
              max: 1
        - !type:DoActsBehavior
          acts: [ "Destruction" ]
        - !type:DumpCanisterBehavior

#region Inf. gas tank
- type: entity
  id: GasTankWizardBottomless
  parent: [ EmergencyOxygenTank, BaseC3WizardContraband ]
  name: bottomless gas tank
  description: An unusual looking gas tank that can hold more volume that it's size would suggest. Lovingly crafted for commercial use by the "Bottomless" brand.
  components:
  - type: Sprite
    sprite: Objects/Tanks/emergency_extended.rsi # placeholder
  - type: Item
    sprite: Objects/Tanks/emergency_extended.rsi # placeholder
  - type: GasTank
    air:
      volume: 9000
      temperature: 293.15
  - type: Clothing
    sprite: Objects/Tanks/emergency_extended.rsi # placeholder

#region Jar of fairies
- type: entity
  parent: BaseItem
  id: JarOfAngryFairies
  name: jar of angry fairies
  description: Careful not to break it if you don't want to feel the wrath of those little cuties.
  components:
    - type: Sprite
      sprite: _NF/Objects/Specific/Hydroponics/bees.rsi
      state: seed
    - type: Damageable
      damageContainer: Inorganic
      damageModifierSet: Glass
    - type: Destructible
      thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 3
        behaviors:
        - !type:PlaySoundBehavior
          sound:
            collection: GlassBreak
        - !type:SpawnEntitiesBehavior
          spawn:
            MobAngryBeeTimed:
              min: 1
              max: 1
          transferForensics: true
        - !type:DoActsBehavior
          acts: [ "Destruction" ]
    - type: DamageOnLand
      ignoreResistances: true
      damage:
        types:
          Blunt: 3
    - type: DamageOtherOnHit
      damage:
        types:
          Blunt: 3

#region Sash of holding
- type: entity
  parent: ClothingBeltWizardBlue
  id: ClothingBeltWizardHolding
  name: wizard sash of holding
  description: A magical sash without visible pockets yet capable of storing items.
  components:
  - type: Sprite
    sprite: _NF/Clothing/Belt/wizard_sash.rsi
    layers:
      - state: icon-base-01
        color: "#3e2147"
  - type: Item
    inhandVisuals:
      left:
      - state: inhand-left-base-01
        color: "#3e2147"
      right:
      - state: inhand-right-base-01
        color: "#3e2147"
  - type: Clothing
    sprite: _NF/Clothing/Belt/wizard_sash.rsi
    clothingVisuals:
      belt:
      - state: equipped-belt-base-01
        color: "#3e2147"
  - type: Storage
    grid:
    - 0,0,0,3
    - 0,0,2,0
    - 0,3,2,3
    - 2,2,2,2
    - 4,1,4,3
    - 6,1,6,3
    - 5,2,5,2
    - 5,0,5,0
    - 9,2,9,3
    - 8,0,8,1
    - 10,0,10,1
    maxItemSize: Huge

#region Wings
- type: entity
  parent: [ BaseJetpack, BaseC3WizardContraband ]
  id: FairyDragonWings
  name: fairy dragon wings
  suffix: Filled
  description: A jetpack fashioned to look like fairy wings. They even make a faint buzzing sound when you fly. Too bad that vacuum doesn't transmit sounds.
  components:
  - type: Sprite
    sprite: _NF/Objects/Specific/Wizard/fairy_wings.rsi
  - type: Clothing
    sprite: _NF/Objects/Specific/Wizard/fairy_wings.rsi
    slots:
    - Back
    - Belt
    - suitStorage
  - type: Item
    sprite: _NF/Objects/Specific/Wizard/fairy_wings.rsi
  - type: Jetpack
    moleUsage: 0.00020
  - type: GasTank
    outputPressure: 21.3
    air:
      volume: 50
      temperature: 293.15
      moles:
        - 10.25689525 # oxygen
        - 10.25689525 # nitrogen

#region scarf of warmth
- type: entity
  parent: [ ClothingNeckScarfWizardPurple, BaseC3WizardContraband ]
  id: ClothingNeckScarfWizardWarmth
  name: wizard scarf of warmth
  description: You don't feel neither cold nor warm wearing it. Wonder if it keeps you safe from plasmafires?
  components:
  - type: Sprite
    layers:
      - state: icon
        color: "#4593a5"
      - state: icon-unshaded
        shader: unshaded
        color: "#A65746"
  - type: Item
    inhandVisuals:
      left:
      - state: inhand-left
        color: "#4593a5"
      - state: inhand-left-unshaded
        shader: unshaded
        color: "#A65746"
      right:
      - state: inhand-right
        color: "#4593a5"
      - state: inhand-right-unshaded
        shader: unshaded
        color: "#A65746"
  - type: Clothing
    clothingVisuals:
      neck:
      - state: equipped-NECK
        color: "#4593a5"
        map: [ "wizard_stole_base" ]
      - state: equipped-NECK-unshaded-01
        map: [ "wizard_stole_runes" ]
        shader: unshaded
        color: "#A65746"
  - type: TemperatureProtection
    heatingCoefficient: 0.005
    coolingCoefficient: 0.05
  - type: FireProtection
    reduction: 0.1
  - type: RandomSprite
    available:
      - wizard_stole_base:
          equipped-NECK: WizardMagicColorsPurple
        wizard_stole_runes:
          equipped-NECK-unshaded-01: WizardMagicColorsPurple
          equipped-NECK-unshaded-02: WizardMagicColorsPurple
          equipped-NECK-unshaded-03: WizardMagicColorsPurple

#region cloak of holding
- type: entity
  parent: [ ClothingNeckBase, BaseC3WizardContraband ]
  id: ClothingNeckCloakWizardHolding
  name: wizard's portal cloak of holding
  description: What happens when your wizardry instructor forbids portal conjuring, yet you do it anyway and attempt to conceal it under your cloak when they are back to check on you?
  components:
  - type: Sprite
    sprite: _NF/Clothing/Neck/Cloaks/wizard_cloak_holding.rsi
    layers:
      - state: icon
      - state: icon-unshaded
        shader: unshaded
  - type: Item
    sprite: _NF/Clothing/Neck/Cloaks/wizard_cloak_holding.rsi
  - type: Clothing
    sprite: _NF/Clothing/Neck/Cloaks/wizard_cloak_holding.rsi
    clothingVisuals:
      neck:
      - state: equipped-NECK
      - state: equipped-NECK-unshaded
        shader: unshaded
  - type: Storage
    grid:
    - 0,0,3,3
    - 5,0,7,2
    - 0,5,7,5
    - 6,4,7,5
    - 9,2,10,3
    - 9,5,9,5
    maxItemSize: Small
  - type: ContainerContainer
    containers:
      storagebase: !type:Container
        ents: []
  - type: UserInterface
    interfaces:
      enum.StorageUiKey.Key:
        type: StorageBoundUserInterface

#region Wallet
- type: entity
  id: ClothingWalletInfiniteGreed
  parent: [ ClothingWalletLeatherBrown, BaseC3WizardContraband ]
  name: the wallet of boundless greed
  description: Surprisingly thick. Careful not to lose it, and don't sit on it.
  components:
  - type: Sprite
    sprite: _NF/Clothing/Wallet/leather.rsi
    layers:
    - state: closed-wizard
      map: ["closeLayer"]
    - state: open-wizard
      map: ["openLayer"]
      visible: false
    - state: closed-paper
      map: ["closed-paper"] # scuffed values to deal with ItemMapper complaining
      visible: false
    - state: closed-cash
      map: ["closed-cash"]
      visible: false
    - state: closed-coin
      map: ["closed-coin"]
      visible: false
    - state: wizard-unshaded
      shader: unshaded
  - type: Dumpable
  - type: MagnetPickup
    magnetEnabled: true
