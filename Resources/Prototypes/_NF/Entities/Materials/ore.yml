#region scrap ore
- type: entity
  parent: OreBase
  id: ScrapOre
  name: scrap chunks
  description: Various bits of previously used machinery. Needs to be sorted or processed to use.
  suffix: Full
  components:
  - type: GoblinPreciousTrash
  - type: Stack
    stackType: ScrapOre
  - type: Sprite
    layers:
    - sprite: _NF/Objects/Materials/ore.rsi
      state: scrapore
  - type: Material
  - type: PhysicalComposition
    materialComposition:
      RawScrap: 100

#region Ore vein
- type: ore
  id: NFOreScrap
  oreEntity: ScrapOre3
  minOreYield: 1
  maxOreYield: 5

#region Stacks
- type: stack
  id: ScrapOre
  name: scrap ore
  icon: { sprite: /Textures/_NF/Objects/Materials/ore.rsi, state: scrapore }
  spawn: ScrapOre1
  maxCount: 100

- type: entity
  parent: ScrapOre
  id: ScrapOre1
  suffix: Single
  components:
  - type: Stack
    count: 1

- type: entity
  parent: ScrapOre
  id: ScrapOre3
  suffix: 3
  components:
  - type: Stack
    count: 3

- type: entity
  parent: ScrapOre
  id: ScrapOre20
  suffix: 20
  components:
  - type: Stack
    count: 20

- type: entity
  parent: ScrapOre
  id: ScrapOre100
  suffix: Full, 100
  components:
  - type: Stack
    count: 100

#region material
- type: material
  id: RawScrap
  stackEntity: ScrapOre1
  name: materials-raw-scrap
  unit: materials-unit-chunk
  icon: { sprite: /Textures/_NF/Objects/Materials/ore.rsi, state: scrapore }
  color: "#FFD700"
  price: 0.02

#region random spawners
# Spawner for scrap processor: spawns random materials

- type: entityTable
  id: TableScrapProcessorRandomMaterials
  table: !type:GroupSelector
    children:
    # For reference 1 scrap chumk = 2 spesos
    # T1: 0.5 - 8.75 spesos per mat
    - !type:GroupSelector
      weight: 60
      children:
      - id: MaterialCardboard1
      - id: SheetPaper1
      - id: MaterialCloth1
      - id: SheetSteel1
      - id: SheetGlass1
      - id: MaterialBones1
      - id: SheetRGlass1
      - id: PartRodMetal1
      - id: SheetClockworkGlass1
    # T2:  10 - 15 spesos per mat
    - !type:GroupSelector
      weight: 30
      children:
      - id: MaterialWoodPlank1
      - id: SheetPlastic1
      - id: SheetBrass1
      - id: IngotSilver1
      - id: MaterialDurathread1
    # T3: 15 - 26 spesos per mat
    - !type:GroupSelector
      weight: 7
      children:
      - id: SheetUranium1
      - id: SheetPlasma1
      - id: IngotGold1
      - id: SheetUGlass1
      - id: SheetPGlass1
      - id: SheetRUGlass1
      - id: SheetRPGlass1
      - id: SheetPlasteel1
      - id: MaterialSheetMeat1
    # T4: 26 - 50 spesos per mat
    - !type:GroupSelector
      weight: 2.99
      children:
      - id: MaterialBananium1
    # T5: 1000+ spesos per mat
    - !type:GroupSelector
      weight: 0.01
      children:
      - id: MaterialBluespace1 # 1500
      - id: MaterialDiamond1 # 2000

- type: entity
  id: ScrapProcessorRandomMaterial
  parent: MarkerBasePlaceFree
  name: filter out usable materials
  components:
  - type: EntityTableSpawner
    offset: 0.0
    table: !type:NestedSelector
      tableId: TableScrapProcessorRandomMaterials
      prob: 0.7

# Spawner for scrap processor: spawns random parts

- type: entityTable
  id: TableScrapProcessorRandomParts
  table: !type:GroupSelector
    children:
    - !type:GroupSelector
      # T1
      weight: 90
      children:
      - id: CableApcStack1
      - id: CableMVStack1
      - id: CableHVStack1
      - id: CapacitorStockPart
      - id: MicroManipulatorStockPart
      - id: MatterBinStockPart
      - id: Igniter
      - id: PowerCellMedium
    - !type:GroupSelector
      # T2
      weight: 7
      children:
      - id: AdvancedCapacitorStockPart
      - id: NanoManipulatorStockPart
      - id: AdvancedMatterBinStockPart
      - id: SignalTrigger
      - id: TimerTrigger
      - id: VoiceTrigger
      - id: ProximitySensor
      - id: PowerCellHigh
    - !type:GroupSelector
      # T3
      weight: 3
      children:
      - id: SuperCapacitorStockPart
      - id: PicoManipulatorStockPart
      - id: SuperMatterBinStockPart
      - id: PowerCellHyper

- type: entity
  id: ScrapProcessorRandomPart
  parent: MarkerBasePlaceFree
  name: filter out usable parts
  components:
  - type: EntityTableSpawner
    offset: 0.0
    table: !type:NestedSelector
      tableId: TableScrapProcessorRandomParts
      prob: 0.7

# Spawner for scrap processor: spawns random tools

- type: entityTable
  id: TableScrapProcessorRandomTools
  table: !type:GroupSelector
    children:
    - !type:GroupSelector
      # T1
      weight: 90
      children:
      - id: Crowbar
      - id: Screwdriver
      - id: Wrench
      - id: Wirecutter
      - id: WelderEmpty
      - id: AppraisalTool
      - id: Multitool
      - id: GeigerCounter
      - id: trayScanner
      - id: GasAnalyzer
      - id: HydroponicsToolMiniHoe
      - id: HydroponicsToolClippers
      - id: HydroponicsToolSpade
      - id: HydroponicsToolHatchet
      - id: HydroponicsToolScythe
      - id: Pickaxe
      - id: SprayPainter
      - id: EmptyFlashlightLantern
      - id: ClothingEyesGlassesMeson
      - id: SpectralLocatorEmpty
      - id: NodeScanner
      - id: AnomalyScanner
    - !type:GroupSelector
      # T2
      weight: 7
      children:
      - id: MedicalAppraisalTool
      - id: HandheldHealthAnalyzerEmpty
      - id: ForensicScanner
      - id: HandHeldMassScannerEmpty
      - id: MineralScannerEmpty
      - id: WelderIndustrialEmpty
      - id: GasDepositLocatorEmpty
      - id: HoloGraffitiProjectorEmpty
      - id: HoloprojectorEmpty
      - id: HolofanProjectorEmpty
      - id: NFWeaponHoloflareGun
      - id: MiningDrill
    - !type:GroupSelector
      # T3
      weight: 3
      children:
      - id: HoloprojectorFieldEmpty
      - id: PlantAnalyzerEmpty
      - id: RPED
      - id: ShipyardRCD

- type: entity
  id: ScrapProcessorRandomTools
  parent: MarkerBasePlaceFree
  name: filter out usable tools
  components:
  - type: EntityTableSpawner
    offset: 0.0
    table: !type:NestedSelector
      tableId: TableScrapProcessorRandomTools
      prob: 0.7

# Spawner for scrap processor: spawns random machine board, occasionally useful one

- type: entityTable
  id: TableScrapProcessorRandomBoard
  table: !type:GroupSelector
    children:
    # T1: Common machine boards (available from circuit imprinter or flatpack vendor)
    - !type:GroupSelector
      weight: 93
      children:
      - id: AutolatheMachineCircuitboard
      - id: CutterMachineCircuitboard
      - id: SpaceHeaterMachineCircuitBoard
      - id: PortableGeneratorJrPacmanMachineCircuitboard
      - id: PortableGeneratorPacmanMachineCircuitboard
      - id: PortableGeneratorSuperPacmanMachineCircuitboard
      - id: CellRechargerCircuitboard
      - id: BorgChargerCircuitboard
      - id: WeaponCapacitorRechargerCircuitboard
      - id: ExosuitFabricatorMachineCircuitboard
      - id: UniformPrinterMachineCircuitboard
      - id: OreProcessorMachineCircuitboard
      - id: FlatpackerMachineCircuitboard
      - id: MiniGravityGeneratorCircuitboard
      - id: ThrusterMachineCircuitboard
      - id: GyroscopeMachineCircuitboard
      - id: OreProcessorMachineCircuitboard
      - id: JukeboxCircuitBoard
      - id: MaterialSiloMachineCircuitboard
      - id: SurveillanceWirelessCameraMovableCircuitboard
      - id: ComputerTelevisionCircuitboard
    # T2: specialised machine boards (techfabs)
    - !type:GroupSelector
      weight: 5.5
      children:
      - id: SpaceVillainArcadeComputerCircuitboard
      - id: BlockGameArcadeComputerCircuitboard
      - id: MiniStationAnchorCircuitboard
      - id: CircuitImprinterMachineCircuitboard
      - id: EngineeringTechFabCircuitboard
      - id: SalvageTechFabCircuitboardNF
      - id: ServiceTechFabCircuitboard
      - id: MaterialReclaimerMachineCircuitboard
      - id: SpaceHeaterMachineCircuitBoard
      - id: ReagentGrinderMachineCircuitboard
      - id: PortableGeneratorDKJrMachineCircuitboard
      - id: BoozeDispenserMachineCircuitboard
      - id: DawInstrumentMachineCircuitboard
      - id: GasRecyclerMachineCircuitboard
    # T3: cool machine boards
    - !type:GroupSelector
      weight: 1
      children:
      - id: HellfireHeaterMachineCircuitBoard
      - id: HellfireFreezerMachineCircuitBoard
      - id: EmitterCircuitboard
      - id: CondenserMachineCircuitBoard
      - id: AutolatheHyperConvectionMachineCircuitboard
      - id: CircuitImprinterHyperConvectionMachineCircuitboard
      - id: TurboItemRechargerCircuitboard
      - id: ShuttleGunKineticCircuitboard
      - id: OreProcessorIndustrialMachineCircuitboard
      - id: AmmoTechFabCircuitboard
      - id: PortablePumpMachineCircuitBoard
      - id: HotplateMachineCircuitboard
    # T4: core department tech boards
    - !type:GroupSelector
      weight: 0.5
      children:
      - id: ReagentGrinderIndustrialMachineCircuitboard
      - id: ChemMasterMachineCircuitboard
      - id: ElectrolysisUnitMachineCircuitboard
      - id: StasisBedMachineCircuitboard
      - id: ResearchComputerCircuitboard
      - id: ResearchAndDevelopmentServerMachineCircuitboard
      - id: MercenaryTechFabCircuitboardNF
      - id: MercenaryTechFabCircuitboardHackedNF
      - id: PortableGeneratorDKMachineCircuitboard
      - id: GaslockFrameMachineCircuitboard
      - id: MedicalTechFabCircuitboard
      - id: MedicalAssemblerMachineCircuitboard
      - id: McServiceTechFabCircuitboard

- type: entity
  id: ScrapProcessorRandomBoard
  parent: MarkerBasePlaceFree
  name: filter out functional machine boards
  components:
  - type: EntityTableSpawner
    offset: 0.0
    table: !type:NestedSelector
      tableId: TableScrapProcessorRandomBoard
      prob: 0.7
